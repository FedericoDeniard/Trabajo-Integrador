<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Create Serie MediaRent Admin</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles/componentes/header.css" />
    <link rel="stylesheet" href="/styles/componentes/general.css" />
    <link rel="stylesheet" href="/styles/componentes/buttons.css" />
    <link rel="stylesheet" href="/styles/componentes/image.css" />

    <link rel="stylesheet" href="/styles/vistas/new-product.css" />
  </head>
  <body>
    <header class="header">
      <div class="header__main">
        <img
          src="data:image/jpeg;base64,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"
        />
        <div>
          <h2>Nombre página</h2>
          <p>Federico Deniard</p>
          <p>Delfina Garcia Ocampo</p>
        </div>
      </div>
      <div class="header__nav">
        <form action="/api/admin/logout" method="POST" id="logout">
          <button type="submit">
            <img src="/images/logout.svg" alt="Salir" />
            <span>Salir</span>
          </button>
        </form>
      </div>
    </header>
    <form class="form" method="POST" enctype="multipart/form-data" action="/api/admin/series/create" id="serie-form">
      <div class="form__inputs-container">
        <div class="form__field">
          <label for="title">Título:</label>
          <input type="text" id="title" name="title" required />
        </div>

        <div class="form__field">
          <label for="price">Precio:</label>
          <input
            type="number"
            id="price"
            name="price"
            step="0.01"
            min="0"
            required
          />
        </div>

        <div class="form__field">
          <label for="description">Descripción:</label>
          <textarea
            id="description"
            name="description"
            rows="4"
            required
          ></textarea>
        </div>

        <div class="form__field"> 
        <label for="directors">Directores:</label>
        <div class="tag-input" id="directors-input">
          <input type="text" id="directors-text" placeholder="Escribí un nombre y presioná Enter" />
          <input type="hidden" name="directors" id="directors-hidden" />
        </div>
      </div>

<div class="form__field">
  <label for="genres">Géneros:</label>
  <div class="tag-input genres">
    <input type="text" class="genres-text" placeholder="Escribí un género y presioná Enter" />
    <input type="hidden" name="genres" class="genres-hidden" />
  </div>
</div>


        <div class="form__field">
          <label for="rate">Calificación:</label>
          <input type="number" id="rate" name="rate" min="0" max="5", step="0.1" required>
          </input>
        </div>

        <div class="form__field">
          <label for="available">Disponible:</label>
          <select id="available" name="available" required>
            <option value="">Seleccionar...</option>
            <option value="true">Sí</option>
            <option value="false">No</option>
          </select>
        </div>

        <div class="form__field">
          <label for="seasons">Temporadas:</label>
          <input type="number" id="seasons" name="seasons" min="1" required />
        </div>

        <div class="form__field">
          <label for="released_date">Fecha de lanzamiento:</label>
          <input type="date" id="released_date" name="released_date" required />
        </div>
      </div>

      <div class="form__image-container">
        <div class="form__field">
          <label for="thumbnail">Imagen:</label>
          <div class="img-container">
            <img
              src="/images/placeholder.jpg"
              alt="Vista previa"
              onerror="this.src='/images/not-found.svg'"
              onclick="document.getElementById('thumbnail').click()"
            />
            <input
              type="file"
              id="thumbnail"
              name="thumbnail"
              accept="image/*"
              style="display: none"
              required
              onchange="previewImage(this)"
            />
          </div>
        </div>
      </div>

      <div class="form__submit-container">
        <button type="submit">Guardar Producto</button>
        <button type="reset">Limpiar</button>
      </div>
    </form>

    <script>
      function previewImage(input) {
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            const img = input.parentNode.querySelector("img");
            img.src = e.target.result;
          };
          reader.readAsDataURL(input.files[0]);
        }
      }


  const input = document.getElementById("directors-text");
  const hiddenInput = document.getElementById("directors-hidden");
  const container = document.getElementById("directors-input");
  let tags = [];

  function updateHiddenInput() {
    hiddenInput.value = tags.join(",");
  }

  function createTag(name) {
    const tag = document.createElement("span");
    tag.classList.add("tag");
    tag.textContent = name;

    const remove = document.createElement("span");
    remove.classList.add("remove");
    remove.textContent = "×";
    remove.onclick = () => {
      tags = tags.filter(t => t !== name);
      container.removeChild(tag);
      updateHiddenInput();
    };

    tag.appendChild(remove);
    container.insertBefore(tag, input);
  }

  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === ",") {
      e.preventDefault();
      const value = input.value.trim(); 
      if (value && !tags.includes(value)) {
        tags.push(value);
        createTag(value);
        updateHiddenInput();
      }
      input.value = "";
    }
  });


   const genresInput = document.querySelector(".genres-text");
  const genresHidden = document.querySelector(".genres-hidden");
  const genresContainer = document.querySelector(".tag-input.genres");
  let genres = [];

  function updateGenresHidden() {
    genresHidden.value = genres.join(",");
  }

  function createGenreTag(name) {
    const tag = document.createElement("span");
    tag.classList.add("tag");
    tag.textContent = name;

    const remove = document.createElement("span");
    remove.classList.add("remove");
    remove.textContent = "×";
    remove.onclick = () => {
      genres = genres.filter(g => g !== name);
      genresContainer.removeChild(tag);
      updateGenresHidden();
    };

    tag.appendChild(remove);
    genresContainer.insertBefore(tag, genresInput);
  }

  genresInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === ",") {
      e.preventDefault();
      const value = genresInput.value.trim();
      if (value && !genres.includes(value)) {
        genres.push(value);
        createGenreTag(value);
        updateGenresHidden();
      }
      genresInput.value = "";
    }
  });

   const form = document.getElementById("movie-form");

  form.addEventListener("reset", () => {
  container.querySelectorAll(".tag").forEach(tag => tag.remove());
  tags = [];
  updateHiddenInput();

  genresContainer.querySelectorAll(".tag").forEach(tag => tag.remove());
  genres = [];
  updateGenresHidden();
});
    </script>
  </body>
</html>
